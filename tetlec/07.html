<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>画面の描画</title>
<meta http-equiv="content-type" content="text/html; charset=shift_jis">
<meta http-equiv="content-type" content="text/css; charset=shift_jis">
<link rel="stylesheet" href="./styleTet.css" type="text/css">
<script type="text/javascript" src="../navigation.js" charset="shift_jis"></script>
<script type="text/javascript" src="./location_navi.js" charset="shift_jis"></script>
<base href="http://1st.geocities.jp/shift486909/tetlec/">
</head>
<body>
<p align="left"><br>
<img src="chapter_g/07g.gif" width="402" height="60" alt=""><br>
<br>
はい、それでは背景ボード画像を描画します。<br>
編集するのはdraw.cpp<br>
<br>
main.cppにはDrawMain()関数だけをプロトタイプ宣言して、<br>
DrawMain()からそれぞれの各種描画関数を呼び出します。<br>
<br>
今回は背景のみですが、描画順も気にする必要があります。<br>
後から描画されたものほど前面に表示されます。<br>
<hr>
<pre>
//<span class="red">draw.cpp</span>
#include "../include/main.h"

//背景描画
void DrawBoard(){
	DrawGraph(0  ,0  ,IMG::board[2],true);
	DrawGraph(112,0  ,IMG::board[1],true);
	DrawGraph(112,448,IMG::board[1],true);
	DrawGraph(304,0  ,IMG::board[0],true);
}

//描画メイン
void DrawMain(){

	//背景描画
	DrawBoard();
}
<hr>
//func.h
	・
	・
	・
//<span class="red">draw.cpp</span>//
void DrawMain();
<hr>
//main.cpp
#define FIRST_LOADING
#include "../include/main.h"
	・
	・
	・
//メイン関数
int WINAPI WinMain( HINSTANCE hInstance, HINSTANCE hPrevInstance,LPSTR lpCmdLine, int nCmdShow ){

	ChangeWindowMode(TRUE);//ウィンドウモード
	if(DxLib_Init()==-1 || SetDrawScreen( DX_SCREEN_BACK )!=0) return -1;//初期化と裏画面化

	ini();

	while(ProcessLoop()){

		<span class="red">DrawMain();</span>

		fps();

		ScreenFlip();
	}

	DxLib_End();
	return 0;
}
</pre>
<hr>
実行結果:<br>
<img src="07/07_1.gif" width="642" height="481" alt=""><br>
<br>
うまく表示されないときは、リソースのロードから疑ってみてください。<br>
正常に画像が読み込まれていますか？<br>
<br>
次回はテトリミノのクラス定義など、様々な定義をします。<br>
</p>
<hr size="2">

<script type="text/javascript">
write_locate(8);
topic("index","../index.html");
topic("テトリス作成講座","./tetlec_menu.html");
topic(document.title,"./"+get_file(location.href));
</script>

</body></html>
